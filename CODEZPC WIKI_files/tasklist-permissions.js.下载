(function(){"use strict";window.TaskListPermissions={hasTaskEditPermissions(){const role=document.querySelector('meta[name="user-role"]')?.content||"viewer";return role==="admin"||role==="editor"},isTaskEditingDisabled(){if(document.body.classList.contains("editing"))return true;if(document.querySelector(".version-content"))return true;return false},isTaskEditingAllowed(){return this.hasTaskEditPermissions()&&!this.isTaskEditingDisabled()},enableAllCheckboxes(){if(!this.isTaskEditingAllowed()){console.log("TaskListPermissions: Task editing not allowed, checkboxes remain disabled");return}const container=document.querySelector(".markdown-content");if(!container)return;const allCheckboxes=[...container.querySelectorAll('input[type="checkbox"]')];let enabledCount=0;allCheckboxes.forEach(cb=>{if(cb.disabled){cb.disabled=false;enabledCount++}});console.log(`TaskListPermissions: Enabled ${enabledCount} checkboxes for editing`)},getDocPath(){return(document.querySelector('meta[name="doc-path"]')?.content||"").replace(/^\//,"")},getUserRole(){return document.querySelector('meta[name="user-role"]')?.content||"viewer"}};if(document.readyState==="loading"){document.addEventListener("DOMContentLoaded",()=>{window.TaskListPermissions.enableAllCheckboxes()})}else{window.TaskListPermissions.enableAllCheckboxes()}})();