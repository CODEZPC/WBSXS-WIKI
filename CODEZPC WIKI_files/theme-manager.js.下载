window.isPrintActive=false;window.addEventListener("beforeprint",function(){window.isPrintActive=true});window.addEventListener("afterprint",function(){setTimeout(()=>{window.isPrintActive=false},100)});(function(){var savedTheme=localStorage.getItem("theme");if(savedTheme){document.documentElement.setAttribute("data-theme",savedTheme)}else if(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches){document.documentElement.setAttribute("data-theme","dark")}})();document.addEventListener("DOMContentLoaded",function(){"use strict";const themeToggle=document.querySelector('.sidebar-footer-buttons .sidebar-footer-btn[aria-label="Toggle theme"]');const root=document.documentElement;const lightIcon=document.querySelector(".light-icon");const darkIcon=document.querySelector(".dark-icon");initializeTheme();if(themeToggle){themeToggle.addEventListener("click",toggleTheme)}window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",handleSystemThemeChange);function initializeTheme(){const savedTheme=localStorage.getItem("theme");const systemPrefersDark=window.matchMedia("(prefers-color-scheme: dark)").matches;if(savedTheme){applyTheme(savedTheme)}else if(systemPrefersDark){applyTheme("dark")}else{applyTheme("light")}}function toggleTheme(){if(window.isPrintActive){return}const currentTheme=root.getAttribute("data-theme");const newTheme=currentTheme==="dark"?"light":"dark";applyTheme(newTheme);localStorage.setItem("theme",newTheme)}function applyTheme(theme){if(window.isPrintActive){return}root.setAttribute("data-theme",theme);updateThemeUI(theme)}function updateThemeUI(theme){if(theme==="dark"){if(lightIcon)lightIcon.style.display="none";if(darkIcon)darkIcon.style.display="block";const prismTheme=document.getElementById("prism-theme");if(prismTheme){prismTheme.href="/static/libs/prism-1.30.0/prism-tomorrow.min.css"}}else{if(lightIcon)lightIcon.style.display="block";if(darkIcon)darkIcon.style.display="none";const prismTheme=document.getElementById("prism-theme");if(prismTheme){prismTheme.href="/static/libs/prism-1.30.0/prism.min.css"}}const themeChangeEvent=new CustomEvent("themeChanged",{detail:{theme:theme}});document.dispatchEvent(themeChangeEvent)}function handleSystemThemeChange(e){if(window.isPrintActive||localStorage.getItem("theme")){return}const newTheme=e.matches?"dark":"light";applyTheme(newTheme)}window.ThemeManager={getCurrentTheme:function(){return root.getAttribute("data-theme")||"light"},setTheme:applyTheme,toggleTheme:toggleTheme,updateUI:updateThemeUI}});